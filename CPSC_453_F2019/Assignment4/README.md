## CPSC 453 Fall 2019 Assignment 4

### Introduction

This program implements an interactive environment for creating a pottery
by drawing its profile curve and lathing (a surface of revolution), the user can:

 *  Choose the method to generate the curve (Bezier curve/B-spline curve)
 *  Inserting, deleting and moving control points for a Bezier curve
 *  Inserting, deleting and moving points of a B-spline curve before subdivision
 *  Switch the viewport between profile/perspective/parallel projection
 *  Apply a pre-define checkerboard procedural texture on the model
 *  Adjust the direction of the directional light
 *  Save the model by its position of control points/points before subdivision as well as the corresponding type of curve as **.dat** files.
 *  Re-generate the model by loading **.dat** files.

Notice:
 
 *  The program has been tested in MS 239.
 *  The default number of points of Bezier curve generated by **de Casteljau's algorithm** is 1000.
 *  **The chasing game** subdivision scheme on a B-spline open curve will stop once the number of points generated >= 1000
 *  I assume that the pottery should be placed on a horizontal line so I restrict its profile such that in the xy-plane of NDC -1.0 <= x <= 0.0, -0.9 <= y <= 1.0
 *  If the curve is a Bezier curve, then points that the user edits are control points. If the curve is a B-spline curve, then there are no control points, the points that the user edits are points before **the chasing game** subdivision.
 *  In the profile projection, a red point indicates the center of the bottom of the pottery and it is **not** editable.
 *  OpenMP is used for acceleration in some for loops.
 *  Only **1** point can be selected at a time.

### Install

*   Initiate in a Linux terminal and change the current working directory to the root of ***Assignment4***

*   Execute the following instructions to compile

```sh
cmake .
make
```

### Arguments

*   To show the usage, please run by

```sh
./assignment4.out --help
```

*   To generate the curve by using different methods, please run by

```sh
./assignment4.out method_to_define_the_curve
# example: ./assignment4.out 1
```

*   To generate the curve by a **.dat** file, please run by

```sh
./assignment4.out path_of_dat_file
# example: ./assignment4.out ./save/2019_11_27_14_27_55.dat
```

*   The usage will be shown if any invalid arguments are provided.

### Uninstall

You may clean the temporary output files by running

```sh
rm -rf CMakeCache.txt
rm -rf ./CMakeFiles/
rm -rf Makefile
rm -rf assignment4.out
rm -rf cmake_install.cmake
```

### Usage

#### Keys and their functions

*   ESC:    Exit the program
*   Z:      Switch between zoom/rotation in perspective/parallel projection
*   Q:      Print the information of current context
*   R:      Reset the camera and the light direction in perspective/parallel projection
*   T:      Switch between applying/ not applying the procedural texture in perspective/parallel projection
*   S:      Save the current method to generate the curve and the position of all control points if the curve is a **Bezier curve** or the position of all points before subdivision if the curve is a **B-spline** to a file named with current time and **.dat** as its suffix
*   1:      Switch to the viewport of the profile projection
*   2:      Switch to the viewport of the perspective projection
*   3:      Switch to the viewport of the parallel projection

#### To adjust the direction of the light

Suppose that the direction of the light is (x, y, z) in the world space, then

*   4:      Increase x
*   5:      Decrease x
*   6:      Increase y
*   7:      Decrease y
*   8:      Increase z
*   9:      Decrease z

#### In order to edit control points for a Bezier curve or points of a B-spline before subdivision in the profile projection

*   Left-click a point to **SELECT** it
*   Right-click everywhere to **DE-SELECT** the selected point
*   When you have selected a point, you can press mouse left button + drag the point to move
*   Press 'I' to enter the **INSERT** mode and press mouse left button to insert a point at the pixel clicked
*   Press 'D' to **DELETE** the selected point
